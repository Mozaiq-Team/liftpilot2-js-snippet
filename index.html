<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Web Page</title>
    <script type="module" src="/src/index.js"></script>
  </head>
  <body>
    <nav>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </nav>
    <h1>Welcome to My Web Page</h1>
    <p>LIFTPILOT v2.0</p>
    <button id="trackButton">Track Lift Pilot</button>

    <script type="module">
      import LPTracker from "./src/index.js";
      LPTracker.init({ url: "http://localhost:3000/api/v1/" });

      const button = document.getElementById("trackButton");
      button.addEventListener("click", function () {
        console.log("Lift Pilot tracking started.");
        LPTracker.sendEvent("HERO_CTA4", {
          buttonId: "trackButton",
          timestamp: new Date().toISOString(),
        });
      });

      console.log("Page loaded successfully.");
      const eventFromDb = await LPTracker.getEvents({ name: "HERO_CTA4" });

      if (eventFromDb.length > 0) {
        button.innerText = "Track Lift Pilot (Events Found)";
      }

      console.log("Events from database:", eventFromDb);
    </script>
  </body>
</html>
